--- 
jobs: 
  build-with-gradle-build-action-cache: 
    runs-on: ubuntu-latest
    steps: 
      - 
        uses: actions/checkout@v2
      - 
        name: "Set up JDK 17"
        uses: actions/setup-java@v2
        with: 
          distribution: adopt
          java-version: 17
      - 
        uses: gradle/gradle-build-action@v2
        with: 
          arguments: "build --scan"
  build-with-setup-java-cache: 
    runs-on: ubuntu-latest
    steps: 
      - 
        uses: actions/checkout@v2
      - 
        name: "Set up JDK 17"
        uses: actions/setup-java@v2
        with: 
          cache: gradle
          distribution: adopt
          java-version: 17
      - 
        name: "Build with Gradle"
        run: "./gradlew build --scan --no-daemon"
  build-with-upload-artifact: 
    runs-on: ubuntu-latest
    steps: 
      - 
        uses: actions/checkout@v2
      - 
        name: "Set up JDK 17"
        uses: actions/setup-java@v2
        with: 
          cache: gradle
          distribution: adopt
          java-version: 17
      - 
        name: "Build with Gradle"
        run: "./gradlew build --scan --no-daemon"
      - 
        name: "Archive test report"
        uses: actions/upload-artifact@v2
        with: 
          name: "Test report"
          path: build/reports/tests/test
  build-without-cache: 
    runs-on: ubuntu-latest
    steps: 
      - 
        uses: actions/checkout@v2
      - 
        name: "Set up JDK 17"
        uses: actions/setup-java@v2
        with: 
          distribution: adopt
          java-version: 17
      - 
        name: "Build with Gradle"
        run: "./gradlew build --scan"
name: CI
true: 
  pull_request: 
    branches: 
      - master
  push: 
    branches: 
      - master
